<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-tabs/paper-tab.html">
<link rel="import" href="../paper-tabs/paper-tabs.html">
<link rel="import" href="authlete-component-client-display.html">

<polymer-element name="authlete-component-client" attributes="locale data">

  <template>
    <link rel="stylesheet" href="authlete-component-client.css">

    <paper-tabs id="tabs" class="tabs" selected="basic" noink nobar>
      <paper-tab id="tabBasic" name="basic">Basic</paper-tab>
      <paper-tab id="tabAdvanced" name="advanced">Advanced</paper-tab>
    </paper-tabs>

    <authlete-component-client-display id="display" mode="basic" data="{{data}}" locale="{{locale}}"></authlete-component-client-display>
  </template>

  <!-- Authlete Parameter Definition -->
  <script src="authlete-component-client-default-data.js"></script>

  <script>
    (function() {
      Polymer({

        /**
         * The language information in which this component is represented.
         *
         * @attribute locale
         * @type string
         * @default 'en'
         */
        locale: 'en',

        /**
         * The data regarding a client application.
         *
         * @attribute data
         * @type Object
         * @default authlete_component_client_default_data
         */
        data: authlete_component_client_default_data,

        ready: function() {
          this.setUpDisplayMode();
        },

        setUpDisplayMode: function () {
          var that = this;

          // If the 'tabBasic' gets clicked, change the display mode to the 'basic' mode.
          this.$.tabBasic.addEventListener('click', function () {
            if (that.$.display.mode !== 'basic')
            {
              that.$.display.mode = 'basic';
            }
          });

          // If the 'tabAdvanced' gets clicked, change the display mode to the 'advanced' mode.
          this.$.tabAdvanced.addEventListener('click', function () {
            if (that.$.display.mode !== 'advanced')
            {
              that.$.display.mode = 'advanced';
            }
          });
        }

      });
    })();
  </script>

</polymer-element>