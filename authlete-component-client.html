<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-checkbox/paper-checkbox.html">
<link rel="import" href="../paper-radio-group/paper-radio-group.html">
<link rel="import" href="../paper-radio-button/paper-radio-button.html">

<polymer-element name="authlete-component-client" attributes="data locale">

  <template>

    <link rel="stylesheet" href="authlete-component-client.css">

    <h4>{{resources.clientType}}</h4>
    <div class="property_values">
      <paper-radio-group selected="{{data.clientType}}">
        <paper-radio-button name="PUBLIC" label="PUBLIC"></paper-radio-button>
        <paper-radio-button name="CONFIDENTIAL" label="CONFIDENTIAL"></paper-radio-button>
      </paper-radio-group>
    </div>

    <h4>{{resources.responseTypes}}</h4>
    <div class="property_values">
      <div center horizontal layout>
        <div flex>code</div>
        <paper-checkbox checked?="{{responseTypesContains(data, 'CODE')}}"></paper-checkbox>
      </div>
      <div center horizontal layout>
        <div flex>token</div>
        <paper-checkbox checked?="{{responseTypesContains(data, 'TOKEN')}}"></paper-checkbox>
      </div>
      <div center horizontal layout>
        <div flex>id_token</div>
        <paper-checkbox checked?="{{responseTypesContains(data, 'ID_TOKEN')}}"></paper-checkbox>
      </div>
      <div center horizontal layout>
        <div flex>code token</div>
        <paper-checkbox checked?="{{responseTypesContains(data, 'CODE_TOKEN')}}"></paper-checkbox>
      </div>
      <div center horizontal layout>
        <div flex>code id_token</div>
        <paper-checkbox checked?="{{responseTypesContains(data, 'CODE_ID_TOKEN')}}"></paper-checkbox>
      </div>
      <div center horizontal layout>
        <div flex>id_token token</div>
        <paper-checkbox checked?="{{responseTypesContains(data, 'ID_TOKEN_TOKEN')}}"></paper-checkbox>
      </div>
      <div center horizontal layout>
        <div flex>code id_token token</div>
        <paper-checkbox checked?="{{responseTypesContains(data, 'CODE_ID_TOKEN_TOKEN')}}"></paper-checkbox>
      </div>
      <div center horizontal layout>
        <div flex>none</div>
        <paper-checkbox checked?="{{responseTypesContains(data, 'NONE')}}"></paper-checkbox>
      </div>
    </div>

  </template>

  <script src="authlete-component-client-default-data.js"></script>
  <script src="authlete-component-client-resources_en.js"></script>
  <script src="authlete-component-client-resources_ja.js"></script>

  <script>
    function contains(array, value) {
      return (array !== undefined) && (array !== null) && (array.indexOf(value) !== -1);
    }

    Polymer({
      created: function() {
        this.data = authlete_component_client_default_data();
      },

      ready: function() {
        if (this.locale === "ja") {
          this.resources = authlete_component_client_resources_ja;
        }
        else {
          this.resources = authlete_component_client_resources_en;
        }
      },

      responseTypesContains: function(data, value) {
        return (data !== undefined) && (data !== null) && contains(data.responseTypes, value);
      }
    });
  </script>

</polymer-element>
